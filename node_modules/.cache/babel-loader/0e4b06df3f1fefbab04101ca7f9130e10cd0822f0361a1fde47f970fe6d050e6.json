{"ast":null,"code":"/*! @azure/msal-common v14.4.0 2023-11-07 */\n'use strict';\n\nimport { UrlString } from '../url/UrlString.mjs';\nimport { AuthorityMetadataSource } from '../utils/Constants.mjs';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\nconst rawMetdataJSON = {\n  endpointMetadata: {\n    \"https://login.microsoftonline.com/common/\": {\n      token_endpoint: \"https://login.microsoftonline.com/common/oauth2/v2.0/token\",\n      token_endpoint_auth_methods_supported: [\"client_secret_post\", \"private_key_jwt\", \"client_secret_basic\"],\n      jwks_uri: \"https://login.microsoftonline.com/common/discovery/v2.0/keys\",\n      response_modes_supported: [\"query\", \"fragment\", \"form_post\"],\n      subject_types_supported: [\"pairwise\"],\n      id_token_signing_alg_values_supported: [\"RS256\"],\n      response_types_supported: [\"code\", \"id_token\", \"code id_token\", \"id_token token\"],\n      scopes_supported: [\"openid\", \"profile\", \"email\", \"offline_access\"],\n      issuer: \"https://login.microsoftonline.com/{tenantid}/v2.0\",\n      request_uri_parameter_supported: false,\n      userinfo_endpoint: \"https://graph.microsoft.com/oidc/userinfo\",\n      authorization_endpoint: \"https://login.microsoftonline.com/common/oauth2/v2.0/authorize\",\n      device_authorization_endpoint: \"https://login.microsoftonline.com/common/oauth2/v2.0/devicecode\",\n      http_logout_supported: true,\n      frontchannel_logout_supported: true,\n      end_session_endpoint: \"https://login.microsoftonline.com/common/oauth2/v2.0/logout\",\n      claims_supported: [\"sub\", \"iss\", \"cloud_instance_name\", \"cloud_instance_host_name\", \"cloud_graph_host_name\", \"msgraph_host\", \"aud\", \"exp\", \"iat\", \"auth_time\", \"acr\", \"nonce\", \"preferred_username\", \"name\", \"tid\", \"ver\", \"at_hash\", \"c_hash\", \"email\"],\n      kerberos_endpoint: \"https://login.microsoftonline.com/common/kerberos\",\n      tenant_region_scope: null,\n      cloud_instance_name: \"microsoftonline.com\",\n      cloud_graph_host_name: \"graph.windows.net\",\n      msgraph_host: \"graph.microsoft.com\",\n      rbac_url: \"https://pas.windows.net\"\n    },\n    \"https://login.chinacloudapi.cn/common/\": {\n      token_endpoint: \"https://login.chinacloudapi.cn/common/oauth2/v2.0/token\",\n      token_endpoint_auth_methods_supported: [\"client_secret_post\", \"private_key_jwt\", \"client_secret_basic\"],\n      jwks_uri: \"https://login.chinacloudapi.cn/common/discovery/v2.0/keys\",\n      response_modes_supported: [\"query\", \"fragment\", \"form_post\"],\n      subject_types_supported: [\"pairwise\"],\n      id_token_signing_alg_values_supported: [\"RS256\"],\n      response_types_supported: [\"code\", \"id_token\", \"code id_token\", \"id_token token\"],\n      scopes_supported: [\"openid\", \"profile\", \"email\", \"offline_access\"],\n      issuer: \"https://login.partner.microsoftonline.cn/{tenantid}/v2.0\",\n      request_uri_parameter_supported: false,\n      userinfo_endpoint: \"https://microsoftgraph.chinacloudapi.cn/oidc/userinfo\",\n      authorization_endpoint: \"https://login.chinacloudapi.cn/common/oauth2/v2.0/authorize\",\n      device_authorization_endpoint: \"https://login.chinacloudapi.cn/common/oauth2/v2.0/devicecode\",\n      http_logout_supported: true,\n      frontchannel_logout_supported: true,\n      end_session_endpoint: \"https://login.chinacloudapi.cn/common/oauth2/v2.0/logout\",\n      claims_supported: [\"sub\", \"iss\", \"cloud_instance_name\", \"cloud_instance_host_name\", \"cloud_graph_host_name\", \"msgraph_host\", \"aud\", \"exp\", \"iat\", \"auth_time\", \"acr\", \"nonce\", \"preferred_username\", \"name\", \"tid\", \"ver\", \"at_hash\", \"c_hash\", \"email\"],\n      kerberos_endpoint: \"https://login.chinacloudapi.cn/common/kerberos\",\n      tenant_region_scope: null,\n      cloud_instance_name: \"partner.microsoftonline.cn\",\n      cloud_graph_host_name: \"graph.chinacloudapi.cn\",\n      msgraph_host: \"microsoftgraph.chinacloudapi.cn\",\n      rbac_url: \"https://pas.chinacloudapi.cn\"\n    },\n    \"https://login.microsoftonline.us/common/\": {\n      token_endpoint: \"https://login.microsoftonline.us/common/oauth2/v2.0/token\",\n      token_endpoint_auth_methods_supported: [\"client_secret_post\", \"private_key_jwt\", \"client_secret_basic\"],\n      jwks_uri: \"https://login.microsoftonline.us/common/discovery/v2.0/keys\",\n      response_modes_supported: [\"query\", \"fragment\", \"form_post\"],\n      subject_types_supported: [\"pairwise\"],\n      id_token_signing_alg_values_supported: [\"RS256\"],\n      response_types_supported: [\"code\", \"id_token\", \"code id_token\", \"id_token token\"],\n      scopes_supported: [\"openid\", \"profile\", \"email\", \"offline_access\"],\n      issuer: \"https://login.microsoftonline.us/{tenantid}/v2.0\",\n      request_uri_parameter_supported: false,\n      userinfo_endpoint: \"https://graph.microsoft.com/oidc/userinfo\",\n      authorization_endpoint: \"https://login.microsoftonline.us/common/oauth2/v2.0/authorize\",\n      device_authorization_endpoint: \"https://login.microsoftonline.us/common/oauth2/v2.0/devicecode\",\n      http_logout_supported: true,\n      frontchannel_logout_supported: true,\n      end_session_endpoint: \"https://login.microsoftonline.us/common/oauth2/v2.0/logout\",\n      claims_supported: [\"sub\", \"iss\", \"cloud_instance_name\", \"cloud_instance_host_name\", \"cloud_graph_host_name\", \"msgraph_host\", \"aud\", \"exp\", \"iat\", \"auth_time\", \"acr\", \"nonce\", \"preferred_username\", \"name\", \"tid\", \"ver\", \"at_hash\", \"c_hash\", \"email\"],\n      kerberos_endpoint: \"https://login.microsoftonline.us/common/kerberos\",\n      tenant_region_scope: null,\n      cloud_instance_name: \"microsoftonline.us\",\n      cloud_graph_host_name: \"graph.windows.net\",\n      msgraph_host: \"graph.microsoft.com\",\n      rbac_url: \"https://pasff.usgovcloudapi.net\"\n    },\n    \"https://login.microsoftonline.com/consumers/\": {\n      token_endpoint: \"https://login.microsoftonline.com/consumers/oauth2/v2.0/token\",\n      token_endpoint_auth_methods_supported: [\"client_secret_post\", \"private_key_jwt\", \"client_secret_basic\"],\n      jwks_uri: \"https://login.microsoftonline.com/consumers/discovery/v2.0/keys\",\n      response_modes_supported: [\"query\", \"fragment\", \"form_post\"],\n      subject_types_supported: [\"pairwise\"],\n      id_token_signing_alg_values_supported: [\"RS256\"],\n      response_types_supported: [\"code\", \"id_token\", \"code id_token\", \"id_token token\"],\n      scopes_supported: [\"openid\", \"profile\", \"email\", \"offline_access\"],\n      issuer: \"https://login.microsoftonline.com/9188040d-6c67-4c5b-b112-36a304b66dad/v2.0\",\n      request_uri_parameter_supported: false,\n      userinfo_endpoint: \"https://graph.microsoft.com/oidc/userinfo\",\n      authorization_endpoint: \"https://login.microsoftonline.com/consumers/oauth2/v2.0/authorize\",\n      device_authorization_endpoint: \"https://login.microsoftonline.com/consumers/oauth2/v2.0/devicecode\",\n      http_logout_supported: true,\n      frontchannel_logout_supported: true,\n      end_session_endpoint: \"https://login.microsoftonline.com/consumers/oauth2/v2.0/logout\",\n      claims_supported: [\"sub\", \"iss\", \"cloud_instance_name\", \"cloud_instance_host_name\", \"cloud_graph_host_name\", \"msgraph_host\", \"aud\", \"exp\", \"iat\", \"auth_time\", \"acr\", \"nonce\", \"preferred_username\", \"name\", \"tid\", \"ver\", \"at_hash\", \"c_hash\", \"email\"],\n      kerberos_endpoint: \"https://login.microsoftonline.com/consumers/kerberos\",\n      tenant_region_scope: null,\n      cloud_instance_name: \"microsoftonline.com\",\n      cloud_graph_host_name: \"graph.windows.net\",\n      msgraph_host: \"graph.microsoft.com\",\n      rbac_url: \"https://pas.windows.net\"\n    },\n    \"https://login.chinacloudapi.cn/consumers/\": {\n      token_endpoint: \"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/token\",\n      token_endpoint_auth_methods_supported: [\"client_secret_post\", \"private_key_jwt\", \"client_secret_basic\"],\n      jwks_uri: \"https://login.chinacloudapi.cn/consumers/discovery/v2.0/keys\",\n      response_modes_supported: [\"query\", \"fragment\", \"form_post\"],\n      subject_types_supported: [\"pairwise\"],\n      id_token_signing_alg_values_supported: [\"RS256\"],\n      response_types_supported: [\"code\", \"id_token\", \"code id_token\", \"id_token token\"],\n      scopes_supported: [\"openid\", \"profile\", \"email\", \"offline_access\"],\n      issuer: \"https://login.partner.microsoftonline.cn/9188040d-6c67-4c5b-b112-36a304b66dad/v2.0\",\n      request_uri_parameter_supported: false,\n      userinfo_endpoint: \"https://microsoftgraph.chinacloudapi.cn/oidc/userinfo\",\n      authorization_endpoint: \"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/authorize\",\n      device_authorization_endpoint: \"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/devicecode\",\n      http_logout_supported: true,\n      frontchannel_logout_supported: true,\n      end_session_endpoint: \"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/logout\",\n      claims_supported: [\"sub\", \"iss\", \"cloud_instance_name\", \"cloud_instance_host_name\", \"cloud_graph_host_name\", \"msgraph_host\", \"aud\", \"exp\", \"iat\", \"auth_time\", \"acr\", \"nonce\", \"preferred_username\", \"name\", \"tid\", \"ver\", \"at_hash\", \"c_hash\", \"email\"],\n      kerberos_endpoint: \"https://login.chinacloudapi.cn/consumers/kerberos\",\n      tenant_region_scope: null,\n      cloud_instance_name: \"partner.microsoftonline.cn\",\n      cloud_graph_host_name: \"graph.chinacloudapi.cn\",\n      msgraph_host: \"microsoftgraph.chinacloudapi.cn\",\n      rbac_url: \"https://pas.chinacloudapi.cn\"\n    },\n    \"https://login.microsoftonline.us/consumers/\": {\n      token_endpoint: \"https://login.microsoftonline.us/consumers/oauth2/v2.0/token\",\n      token_endpoint_auth_methods_supported: [\"client_secret_post\", \"private_key_jwt\", \"client_secret_basic\"],\n      jwks_uri: \"https://login.microsoftonline.us/consumers/discovery/v2.0/keys\",\n      response_modes_supported: [\"query\", \"fragment\", \"form_post\"],\n      subject_types_supported: [\"pairwise\"],\n      id_token_signing_alg_values_supported: [\"RS256\"],\n      response_types_supported: [\"code\", \"id_token\", \"code id_token\", \"id_token token\"],\n      scopes_supported: [\"openid\", \"profile\", \"email\", \"offline_access\"],\n      issuer: \"https://login.microsoftonline.us/9188040d-6c67-4c5b-b112-36a304b66dad/v2.0\",\n      request_uri_parameter_supported: false,\n      userinfo_endpoint: \"https://graph.microsoft.com/oidc/userinfo\",\n      authorization_endpoint: \"https://login.microsoftonline.us/consumers/oauth2/v2.0/authorize\",\n      device_authorization_endpoint: \"https://login.microsoftonline.us/consumers/oauth2/v2.0/devicecode\",\n      http_logout_supported: true,\n      frontchannel_logout_supported: true,\n      end_session_endpoint: \"https://login.microsoftonline.us/consumers/oauth2/v2.0/logout\",\n      claims_supported: [\"sub\", \"iss\", \"cloud_instance_name\", \"cloud_instance_host_name\", \"cloud_graph_host_name\", \"msgraph_host\", \"aud\", \"exp\", \"iat\", \"auth_time\", \"acr\", \"nonce\", \"preferred_username\", \"name\", \"tid\", \"ver\", \"at_hash\", \"c_hash\", \"email\"],\n      kerberos_endpoint: \"https://login.microsoftonline.us/consumers/kerberos\",\n      tenant_region_scope: null,\n      cloud_instance_name: \"microsoftonline.us\",\n      cloud_graph_host_name: \"graph.windows.net\",\n      msgraph_host: \"graph.microsoft.com\",\n      rbac_url: \"https://pasff.usgovcloudapi.net\"\n    },\n    \"https://login.microsoftonline.com/organizations/\": {\n      token_endpoint: \"https://login.microsoftonline.com/organizations/oauth2/v2.0/token\",\n      token_endpoint_auth_methods_supported: [\"client_secret_post\", \"private_key_jwt\", \"client_secret_basic\"],\n      jwks_uri: \"https://login.microsoftonline.com/organizations/discovery/v2.0/keys\",\n      response_modes_supported: [\"query\", \"fragment\", \"form_post\"],\n      subject_types_supported: [\"pairwise\"],\n      id_token_signing_alg_values_supported: [\"RS256\"],\n      response_types_supported: [\"code\", \"id_token\", \"code id_token\", \"id_token token\"],\n      scopes_supported: [\"openid\", \"profile\", \"email\", \"offline_access\"],\n      issuer: \"https://login.microsoftonline.com/{tenantid}/v2.0\",\n      request_uri_parameter_supported: false,\n      userinfo_endpoint: \"https://graph.microsoft.com/oidc/userinfo\",\n      authorization_endpoint: \"https://login.microsoftonline.com/organizations/oauth2/v2.0/authorize\",\n      device_authorization_endpoint: \"https://login.microsoftonline.com/organizations/oauth2/v2.0/devicecode\",\n      http_logout_supported: true,\n      frontchannel_logout_supported: true,\n      end_session_endpoint: \"https://login.microsoftonline.com/organizations/oauth2/v2.0/logout\",\n      claims_supported: [\"sub\", \"iss\", \"cloud_instance_name\", \"cloud_instance_host_name\", \"cloud_graph_host_name\", \"msgraph_host\", \"aud\", \"exp\", \"iat\", \"auth_time\", \"acr\", \"nonce\", \"preferred_username\", \"name\", \"tid\", \"ver\", \"at_hash\", \"c_hash\", \"email\"],\n      kerberos_endpoint: \"https://login.microsoftonline.com/organizations/kerberos\",\n      tenant_region_scope: null,\n      cloud_instance_name: \"microsoftonline.com\",\n      cloud_graph_host_name: \"graph.windows.net\",\n      msgraph_host: \"graph.microsoft.com\",\n      rbac_url: \"https://pas.windows.net\"\n    },\n    \"https://login.chinacloudapi.cn/organizations/\": {\n      token_endpoint: \"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/token\",\n      token_endpoint_auth_methods_supported: [\"client_secret_post\", \"private_key_jwt\", \"client_secret_basic\"],\n      jwks_uri: \"https://login.chinacloudapi.cn/organizations/discovery/v2.0/keys\",\n      response_modes_supported: [\"query\", \"fragment\", \"form_post\"],\n      subject_types_supported: [\"pairwise\"],\n      id_token_signing_alg_values_supported: [\"RS256\"],\n      response_types_supported: [\"code\", \"id_token\", \"code id_token\", \"id_token token\"],\n      scopes_supported: [\"openid\", \"profile\", \"email\", \"offline_access\"],\n      issuer: \"https://login.partner.microsoftonline.cn/{tenantid}/v2.0\",\n      request_uri_parameter_supported: false,\n      userinfo_endpoint: \"https://microsoftgraph.chinacloudapi.cn/oidc/userinfo\",\n      authorization_endpoint: \"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/authorize\",\n      device_authorization_endpoint: \"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/devicecode\",\n      http_logout_supported: true,\n      frontchannel_logout_supported: true,\n      end_session_endpoint: \"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/logout\",\n      claims_supported: [\"sub\", \"iss\", \"cloud_instance_name\", \"cloud_instance_host_name\", \"cloud_graph_host_name\", \"msgraph_host\", \"aud\", \"exp\", \"iat\", \"auth_time\", \"acr\", \"nonce\", \"preferred_username\", \"name\", \"tid\", \"ver\", \"at_hash\", \"c_hash\", \"email\"],\n      kerberos_endpoint: \"https://login.chinacloudapi.cn/organizations/kerberos\",\n      tenant_region_scope: null,\n      cloud_instance_name: \"partner.microsoftonline.cn\",\n      cloud_graph_host_name: \"graph.chinacloudapi.cn\",\n      msgraph_host: \"microsoftgraph.chinacloudapi.cn\",\n      rbac_url: \"https://pas.chinacloudapi.cn\"\n    },\n    \"https://login.microsoftonline.us/organizations/\": {\n      token_endpoint: \"https://login.microsoftonline.us/organizations/oauth2/v2.0/token\",\n      token_endpoint_auth_methods_supported: [\"client_secret_post\", \"private_key_jwt\", \"client_secret_basic\"],\n      jwks_uri: \"https://login.microsoftonline.us/organizations/discovery/v2.0/keys\",\n      response_modes_supported: [\"query\", \"fragment\", \"form_post\"],\n      subject_types_supported: [\"pairwise\"],\n      id_token_signing_alg_values_supported: [\"RS256\"],\n      response_types_supported: [\"code\", \"id_token\", \"code id_token\", \"id_token token\"],\n      scopes_supported: [\"openid\", \"profile\", \"email\", \"offline_access\"],\n      issuer: \"https://login.microsoftonline.us/{tenantid}/v2.0\",\n      request_uri_parameter_supported: false,\n      userinfo_endpoint: \"https://graph.microsoft.com/oidc/userinfo\",\n      authorization_endpoint: \"https://login.microsoftonline.us/organizations/oauth2/v2.0/authorize\",\n      device_authorization_endpoint: \"https://login.microsoftonline.us/organizations/oauth2/v2.0/devicecode\",\n      http_logout_supported: true,\n      frontchannel_logout_supported: true,\n      end_session_endpoint: \"https://login.microsoftonline.us/organizations/oauth2/v2.0/logout\",\n      claims_supported: [\"sub\", \"iss\", \"cloud_instance_name\", \"cloud_instance_host_name\", \"cloud_graph_host_name\", \"msgraph_host\", \"aud\", \"exp\", \"iat\", \"auth_time\", \"acr\", \"nonce\", \"preferred_username\", \"name\", \"tid\", \"ver\", \"at_hash\", \"c_hash\", \"email\"],\n      kerberos_endpoint: \"https://login.microsoftonline.us/organizations/kerberos\",\n      tenant_region_scope: null,\n      cloud_instance_name: \"microsoftonline.us\",\n      cloud_graph_host_name: \"graph.windows.net\",\n      msgraph_host: \"graph.microsoft.com\",\n      rbac_url: \"https://pasff.usgovcloudapi.net\"\n    }\n  },\n  instanceDiscoveryMetadata: {\n    tenant_discovery_endpoint: \"https://{canonicalAuthority}/v2.0/.well-known/openid-configuration\",\n    \"api-version\": \"1.1\",\n    metadata: [{\n      preferred_network: \"login.microsoftonline.com\",\n      preferred_cache: \"login.windows.net\",\n      aliases: [\"login.microsoftonline.com\", \"login.windows.net\", \"login.microsoft.com\", \"sts.windows.net\"]\n    }, {\n      preferred_network: \"login.partner.microsoftonline.cn\",\n      preferred_cache: \"login.partner.microsoftonline.cn\",\n      aliases: [\"login.partner.microsoftonline.cn\", \"login.chinacloudapi.cn\"]\n    }, {\n      preferred_network: \"login.microsoftonline.de\",\n      preferred_cache: \"login.microsoftonline.de\",\n      aliases: [\"login.microsoftonline.de\"]\n    }, {\n      preferred_network: \"login.microsoftonline.us\",\n      preferred_cache: \"login.microsoftonline.us\",\n      aliases: [\"login.microsoftonline.us\", \"login.usgovcloudapi.net\"]\n    }, {\n      preferred_network: \"login-us.microsoftonline.com\",\n      preferred_cache: \"login-us.microsoftonline.com\",\n      aliases: [\"login-us.microsoftonline.com\"]\n    }]\n  }\n};\nconst EndpointMetadata = rawMetdataJSON.endpointMetadata;\nconst InstanceDiscoveryMetadata = rawMetdataJSON.instanceDiscoveryMetadata;\nconst InstanceDiscoveryMetadataAliases = new Set();\nInstanceDiscoveryMetadata.metadata.forEach(metadataEntry => {\n  metadataEntry.aliases.forEach(alias => {\n    InstanceDiscoveryMetadataAliases.add(alias);\n  });\n});\n/**\n * Attempts to get an aliases array from the static authority metadata sources based on the canonical authority host\n * @param staticAuthorityOptions\n * @param logger\n * @returns\n */\nfunction getAliasesFromStaticSources(staticAuthorityOptions, logger) {\n  let staticAliases;\n  const canonicalAuthority = staticAuthorityOptions.canonicalAuthority;\n  if (canonicalAuthority) {\n    const authorityHost = new UrlString(canonicalAuthority).getUrlComponents().HostNameAndPort;\n    staticAliases = getAliasesFromMetadata(authorityHost, staticAuthorityOptions.cloudDiscoveryMetadata?.metadata, AuthorityMetadataSource.CONFIG, logger) || getAliasesFromMetadata(authorityHost, InstanceDiscoveryMetadata.metadata, AuthorityMetadataSource.HARDCODED_VALUES, logger) || staticAuthorityOptions.knownAuthorities;\n  }\n  return staticAliases || [];\n}\n/**\n * Returns aliases for from the raw cloud discovery metadata passed in\n * @param authorityHost\n * @param rawCloudDiscoveryMetadata\n * @returns\n */\nfunction getAliasesFromMetadata(authorityHost, cloudDiscoveryMetadata, source, logger) {\n  logger?.trace(`getAliasesFromMetadata called with source: ${source}`);\n  if (authorityHost && cloudDiscoveryMetadata) {\n    const metadata = getCloudDiscoveryMetadataFromNetworkResponse(cloudDiscoveryMetadata, authorityHost);\n    if (metadata) {\n      logger?.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${source}, returning aliases`);\n      return metadata.aliases;\n    } else {\n      logger?.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${source}`);\n    }\n  }\n  return null;\n}\n/**\n * Get cloud discovery metadata for common authorities\n */\nfunction getCloudDiscoveryMetadataFromHardcodedValues(authorityHost) {\n  const metadata = getCloudDiscoveryMetadataFromNetworkResponse(InstanceDiscoveryMetadata.metadata, authorityHost);\n  return metadata;\n}\n/**\n * Searches instance discovery network response for the entry that contains the host in the aliases list\n * @param response\n * @param authority\n */\nfunction getCloudDiscoveryMetadataFromNetworkResponse(response, authorityHost) {\n  for (let i = 0; i < response.length; i++) {\n    const metadata = response[i];\n    if (metadata.aliases.includes(authorityHost)) {\n      return metadata;\n    }\n  }\n  return null;\n}\nexport { EndpointMetadata, InstanceDiscoveryMetadata, InstanceDiscoveryMetadataAliases, getAliasesFromMetadata, getAliasesFromStaticSources, getCloudDiscoveryMetadataFromHardcodedValues, getCloudDiscoveryMetadataFromNetworkResponse, rawMetdataJSON };","map":{"version":3,"names":["scopes_supported","issuer","msgraph_host","rbac_url","instanceDiscoveryMetadata","tenant_discovery_endpoint","preferred_cache","aliases"],"sources":["D:\\react-typescript\\intelli-gui\\node_modules\\@azure\\msal-common\\src\\authority\\AuthorityMetadata.ts"],"sourcesContent":["/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n\nimport { Logger } from \"../logger/Logger\";\nimport { UrlString } from \"../url/UrlString\";\nimport { AuthorityMetadataSource } from \"../utils/Constants\";\nimport { StaticAuthorityOptions } from \"./AuthorityOptions\";\nimport { CloudDiscoveryMetadata } from \"./CloudDiscoveryMetadata\";\n\nexport const rawMetdataJSON = {\n    endpointMetadata: {\n        \"https://login.microsoftonline.com/common/\": {\n            token_endpoint:\n                \"https://login.microsoftonline.com/common/oauth2/v2.0/token\",\n            token_endpoint_auth_methods_supported: [\n                \"client_secret_post\",\n                \"private_key_jwt\",\n                \"client_secret_basic\",\n            ],\n            jwks_uri:\n                \"https://login.microsoftonline.com/common/discovery/v2.0/keys\",\n            response_modes_supported: [\"query\", \"fragment\", \"form_post\"],\n            subject_types_supported: [\"pairwise\"],\n            id_token_signing_alg_values_supported: [\"RS256\"],\n            response_types_supported: [\n                \"code\",\n                \"id_token\",\n                \"code id_token\",\n                \"id_token token\",\n            ],\n            scopes_supported: [\"openid\", \"profile\", \"email\", \"offline_access\"],\n            issuer: \"https://login.microsoftonline.com/{tenantid}/v2.0\",\n            request_uri_parameter_supported: false,\n            userinfo_endpoint: \"https://graph.microsoft.com/oidc/userinfo\",\n            authorization_endpoint:\n                \"https://login.microsoftonline.com/common/oauth2/v2.0/authorize\",\n            device_authorization_endpoint:\n                \"https://login.microsoftonline.com/common/oauth2/v2.0/devicecode\",\n            http_logout_supported: true,\n            frontchannel_logout_supported: true,\n            end_session_endpoint:\n                \"https://login.microsoftonline.com/common/oauth2/v2.0/logout\",\n            claims_supported: [\n                \"sub\",\n                \"iss\",\n                \"cloud_instance_name\",\n                \"cloud_instance_host_name\",\n                \"cloud_graph_host_name\",\n                \"msgraph_host\",\n                \"aud\",\n                \"exp\",\n                \"iat\",\n                \"auth_time\",\n                \"acr\",\n                \"nonce\",\n                \"preferred_username\",\n                \"name\",\n                \"tid\",\n                \"ver\",\n                \"at_hash\",\n                \"c_hash\",\n                \"email\",\n            ],\n            kerberos_endpoint:\n                \"https://login.microsoftonline.com/common/kerberos\",\n            tenant_region_scope: null,\n            cloud_instance_name: \"microsoftonline.com\",\n            cloud_graph_host_name: \"graph.windows.net\",\n            msgraph_host: \"graph.microsoft.com\",\n            rbac_url: \"https://pas.windows.net\",\n        },\n        \"https://login.chinacloudapi.cn/common/\": {\n            token_endpoint:\n                \"https://login.chinacloudapi.cn/common/oauth2/v2.0/token\",\n            token_endpoint_auth_methods_supported: [\n                \"client_secret_post\",\n                \"private_key_jwt\",\n                \"client_secret_basic\",\n            ],\n            jwks_uri:\n                \"https://login.chinacloudapi.cn/common/discovery/v2.0/keys\",\n            response_modes_supported: [\"query\", \"fragment\", \"form_post\"],\n            subject_types_supported: [\"pairwise\"],\n            id_token_signing_alg_values_supported: [\"RS256\"],\n            response_types_supported: [\n                \"code\",\n                \"id_token\",\n                \"code id_token\",\n                \"id_token token\",\n            ],\n            scopes_supported: [\"openid\", \"profile\", \"email\", \"offline_access\"],\n            issuer: \"https://login.partner.microsoftonline.cn/{tenantid}/v2.0\",\n            request_uri_parameter_supported: false,\n            userinfo_endpoint:\n                \"https://microsoftgraph.chinacloudapi.cn/oidc/userinfo\",\n            authorization_endpoint:\n                \"https://login.chinacloudapi.cn/common/oauth2/v2.0/authorize\",\n            device_authorization_endpoint:\n                \"https://login.chinacloudapi.cn/common/oauth2/v2.0/devicecode\",\n            http_logout_supported: true,\n            frontchannel_logout_supported: true,\n            end_session_endpoint:\n                \"https://login.chinacloudapi.cn/common/oauth2/v2.0/logout\",\n            claims_supported: [\n                \"sub\",\n                \"iss\",\n                \"cloud_instance_name\",\n                \"cloud_instance_host_name\",\n                \"cloud_graph_host_name\",\n                \"msgraph_host\",\n                \"aud\",\n                \"exp\",\n                \"iat\",\n                \"auth_time\",\n                \"acr\",\n                \"nonce\",\n                \"preferred_username\",\n                \"name\",\n                \"tid\",\n                \"ver\",\n                \"at_hash\",\n                \"c_hash\",\n                \"email\",\n            ],\n            kerberos_endpoint: \"https://login.chinacloudapi.cn/common/kerberos\",\n            tenant_region_scope: null,\n            cloud_instance_name: \"partner.microsoftonline.cn\",\n            cloud_graph_host_name: \"graph.chinacloudapi.cn\",\n            msgraph_host: \"microsoftgraph.chinacloudapi.cn\",\n            rbac_url: \"https://pas.chinacloudapi.cn\",\n        },\n        \"https://login.microsoftonline.us/common/\": {\n            token_endpoint:\n                \"https://login.microsoftonline.us/common/oauth2/v2.0/token\",\n            token_endpoint_auth_methods_supported: [\n                \"client_secret_post\",\n                \"private_key_jwt\",\n                \"client_secret_basic\",\n            ],\n            jwks_uri:\n                \"https://login.microsoftonline.us/common/discovery/v2.0/keys\",\n            response_modes_supported: [\"query\", \"fragment\", \"form_post\"],\n            subject_types_supported: [\"pairwise\"],\n            id_token_signing_alg_values_supported: [\"RS256\"],\n            response_types_supported: [\n                \"code\",\n                \"id_token\",\n                \"code id_token\",\n                \"id_token token\",\n            ],\n            scopes_supported: [\"openid\", \"profile\", \"email\", \"offline_access\"],\n            issuer: \"https://login.microsoftonline.us/{tenantid}/v2.0\",\n            request_uri_parameter_supported: false,\n            userinfo_endpoint: \"https://graph.microsoft.com/oidc/userinfo\",\n            authorization_endpoint:\n                \"https://login.microsoftonline.us/common/oauth2/v2.0/authorize\",\n            device_authorization_endpoint:\n                \"https://login.microsoftonline.us/common/oauth2/v2.0/devicecode\",\n            http_logout_supported: true,\n            frontchannel_logout_supported: true,\n            end_session_endpoint:\n                \"https://login.microsoftonline.us/common/oauth2/v2.0/logout\",\n            claims_supported: [\n                \"sub\",\n                \"iss\",\n                \"cloud_instance_name\",\n                \"cloud_instance_host_name\",\n                \"cloud_graph_host_name\",\n                \"msgraph_host\",\n                \"aud\",\n                \"exp\",\n                \"iat\",\n                \"auth_time\",\n                \"acr\",\n                \"nonce\",\n                \"preferred_username\",\n                \"name\",\n                \"tid\",\n                \"ver\",\n                \"at_hash\",\n                \"c_hash\",\n                \"email\",\n            ],\n            kerberos_endpoint:\n                \"https://login.microsoftonline.us/common/kerberos\",\n            tenant_region_scope: null,\n            cloud_instance_name: \"microsoftonline.us\",\n            cloud_graph_host_name: \"graph.windows.net\",\n            msgraph_host: \"graph.microsoft.com\",\n            rbac_url: \"https://pasff.usgovcloudapi.net\",\n        },\n        \"https://login.microsoftonline.com/consumers/\": {\n            token_endpoint:\n                \"https://login.microsoftonline.com/consumers/oauth2/v2.0/token\",\n            token_endpoint_auth_methods_supported: [\n                \"client_secret_post\",\n                \"private_key_jwt\",\n                \"client_secret_basic\",\n            ],\n            jwks_uri:\n                \"https://login.microsoftonline.com/consumers/discovery/v2.0/keys\",\n            response_modes_supported: [\"query\", \"fragment\", \"form_post\"],\n            subject_types_supported: [\"pairwise\"],\n            id_token_signing_alg_values_supported: [\"RS256\"],\n            response_types_supported: [\n                \"code\",\n                \"id_token\",\n                \"code id_token\",\n                \"id_token token\",\n            ],\n            scopes_supported: [\"openid\", \"profile\", \"email\", \"offline_access\"],\n            issuer: \"https://login.microsoftonline.com/9188040d-6c67-4c5b-b112-36a304b66dad/v2.0\",\n            request_uri_parameter_supported: false,\n            userinfo_endpoint: \"https://graph.microsoft.com/oidc/userinfo\",\n            authorization_endpoint:\n                \"https://login.microsoftonline.com/consumers/oauth2/v2.0/authorize\",\n            device_authorization_endpoint:\n                \"https://login.microsoftonline.com/consumers/oauth2/v2.0/devicecode\",\n            http_logout_supported: true,\n            frontchannel_logout_supported: true,\n            end_session_endpoint:\n                \"https://login.microsoftonline.com/consumers/oauth2/v2.0/logout\",\n            claims_supported: [\n                \"sub\",\n                \"iss\",\n                \"cloud_instance_name\",\n                \"cloud_instance_host_name\",\n                \"cloud_graph_host_name\",\n                \"msgraph_host\",\n                \"aud\",\n                \"exp\",\n                \"iat\",\n                \"auth_time\",\n                \"acr\",\n                \"nonce\",\n                \"preferred_username\",\n                \"name\",\n                \"tid\",\n                \"ver\",\n                \"at_hash\",\n                \"c_hash\",\n                \"email\",\n            ],\n            kerberos_endpoint:\n                \"https://login.microsoftonline.com/consumers/kerberos\",\n            tenant_region_scope: null,\n            cloud_instance_name: \"microsoftonline.com\",\n            cloud_graph_host_name: \"graph.windows.net\",\n            msgraph_host: \"graph.microsoft.com\",\n            rbac_url: \"https://pas.windows.net\",\n        },\n        \"https://login.chinacloudapi.cn/consumers/\": {\n            token_endpoint:\n                \"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/token\",\n            token_endpoint_auth_methods_supported: [\n                \"client_secret_post\",\n                \"private_key_jwt\",\n                \"client_secret_basic\",\n            ],\n            jwks_uri:\n                \"https://login.chinacloudapi.cn/consumers/discovery/v2.0/keys\",\n            response_modes_supported: [\"query\", \"fragment\", \"form_post\"],\n            subject_types_supported: [\"pairwise\"],\n            id_token_signing_alg_values_supported: [\"RS256\"],\n            response_types_supported: [\n                \"code\",\n                \"id_token\",\n                \"code id_token\",\n                \"id_token token\",\n            ],\n            scopes_supported: [\"openid\", \"profile\", \"email\", \"offline_access\"],\n            issuer: \"https://login.partner.microsoftonline.cn/9188040d-6c67-4c5b-b112-36a304b66dad/v2.0\",\n            request_uri_parameter_supported: false,\n            userinfo_endpoint:\n                \"https://microsoftgraph.chinacloudapi.cn/oidc/userinfo\",\n            authorization_endpoint:\n                \"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/authorize\",\n            device_authorization_endpoint:\n                \"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/devicecode\",\n            http_logout_supported: true,\n            frontchannel_logout_supported: true,\n            end_session_endpoint:\n                \"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/logout\",\n            claims_supported: [\n                \"sub\",\n                \"iss\",\n                \"cloud_instance_name\",\n                \"cloud_instance_host_name\",\n                \"cloud_graph_host_name\",\n                \"msgraph_host\",\n                \"aud\",\n                \"exp\",\n                \"iat\",\n                \"auth_time\",\n                \"acr\",\n                \"nonce\",\n                \"preferred_username\",\n                \"name\",\n                \"tid\",\n                \"ver\",\n                \"at_hash\",\n                \"c_hash\",\n                \"email\",\n            ],\n            kerberos_endpoint:\n                \"https://login.chinacloudapi.cn/consumers/kerberos\",\n            tenant_region_scope: null,\n            cloud_instance_name: \"partner.microsoftonline.cn\",\n            cloud_graph_host_name: \"graph.chinacloudapi.cn\",\n            msgraph_host: \"microsoftgraph.chinacloudapi.cn\",\n            rbac_url: \"https://pas.chinacloudapi.cn\",\n        },\n        \"https://login.microsoftonline.us/consumers/\": {\n            token_endpoint:\n                \"https://login.microsoftonline.us/consumers/oauth2/v2.0/token\",\n            token_endpoint_auth_methods_supported: [\n                \"client_secret_post\",\n                \"private_key_jwt\",\n                \"client_secret_basic\",\n            ],\n            jwks_uri:\n                \"https://login.microsoftonline.us/consumers/discovery/v2.0/keys\",\n            response_modes_supported: [\"query\", \"fragment\", \"form_post\"],\n            subject_types_supported: [\"pairwise\"],\n            id_token_signing_alg_values_supported: [\"RS256\"],\n            response_types_supported: [\n                \"code\",\n                \"id_token\",\n                \"code id_token\",\n                \"id_token token\",\n            ],\n            scopes_supported: [\"openid\", \"profile\", \"email\", \"offline_access\"],\n            issuer: \"https://login.microsoftonline.us/9188040d-6c67-4c5b-b112-36a304b66dad/v2.0\",\n            request_uri_parameter_supported: false,\n            userinfo_endpoint: \"https://graph.microsoft.com/oidc/userinfo\",\n            authorization_endpoint:\n                \"https://login.microsoftonline.us/consumers/oauth2/v2.0/authorize\",\n            device_authorization_endpoint:\n                \"https://login.microsoftonline.us/consumers/oauth2/v2.0/devicecode\",\n            http_logout_supported: true,\n            frontchannel_logout_supported: true,\n            end_session_endpoint:\n                \"https://login.microsoftonline.us/consumers/oauth2/v2.0/logout\",\n            claims_supported: [\n                \"sub\",\n                \"iss\",\n                \"cloud_instance_name\",\n                \"cloud_instance_host_name\",\n                \"cloud_graph_host_name\",\n                \"msgraph_host\",\n                \"aud\",\n                \"exp\",\n                \"iat\",\n                \"auth_time\",\n                \"acr\",\n                \"nonce\",\n                \"preferred_username\",\n                \"name\",\n                \"tid\",\n                \"ver\",\n                \"at_hash\",\n                \"c_hash\",\n                \"email\",\n            ],\n            kerberos_endpoint:\n                \"https://login.microsoftonline.us/consumers/kerberos\",\n            tenant_region_scope: null,\n            cloud_instance_name: \"microsoftonline.us\",\n            cloud_graph_host_name: \"graph.windows.net\",\n            msgraph_host: \"graph.microsoft.com\",\n            rbac_url: \"https://pasff.usgovcloudapi.net\",\n        },\n        \"https://login.microsoftonline.com/organizations/\": {\n            token_endpoint:\n                \"https://login.microsoftonline.com/organizations/oauth2/v2.0/token\",\n            token_endpoint_auth_methods_supported: [\n                \"client_secret_post\",\n                \"private_key_jwt\",\n                \"client_secret_basic\",\n            ],\n            jwks_uri:\n                \"https://login.microsoftonline.com/organizations/discovery/v2.0/keys\",\n            response_modes_supported: [\"query\", \"fragment\", \"form_post\"],\n            subject_types_supported: [\"pairwise\"],\n            id_token_signing_alg_values_supported: [\"RS256\"],\n            response_types_supported: [\n                \"code\",\n                \"id_token\",\n                \"code id_token\",\n                \"id_token token\",\n            ],\n            scopes_supported: [\"openid\", \"profile\", \"email\", \"offline_access\"],\n            issuer: \"https://login.microsoftonline.com/{tenantid}/v2.0\",\n            request_uri_parameter_supported: false,\n            userinfo_endpoint: \"https://graph.microsoft.com/oidc/userinfo\",\n            authorization_endpoint:\n                \"https://login.microsoftonline.com/organizations/oauth2/v2.0/authorize\",\n            device_authorization_endpoint:\n                \"https://login.microsoftonline.com/organizations/oauth2/v2.0/devicecode\",\n            http_logout_supported: true,\n            frontchannel_logout_supported: true,\n            end_session_endpoint:\n                \"https://login.microsoftonline.com/organizations/oauth2/v2.0/logout\",\n            claims_supported: [\n                \"sub\",\n                \"iss\",\n                \"cloud_instance_name\",\n                \"cloud_instance_host_name\",\n                \"cloud_graph_host_name\",\n                \"msgraph_host\",\n                \"aud\",\n                \"exp\",\n                \"iat\",\n                \"auth_time\",\n                \"acr\",\n                \"nonce\",\n                \"preferred_username\",\n                \"name\",\n                \"tid\",\n                \"ver\",\n                \"at_hash\",\n                \"c_hash\",\n                \"email\",\n            ],\n            kerberos_endpoint:\n                \"https://login.microsoftonline.com/organizations/kerberos\",\n            tenant_region_scope: null,\n            cloud_instance_name: \"microsoftonline.com\",\n            cloud_graph_host_name: \"graph.windows.net\",\n            msgraph_host: \"graph.microsoft.com\",\n            rbac_url: \"https://pas.windows.net\",\n        },\n        \"https://login.chinacloudapi.cn/organizations/\": {\n            token_endpoint:\n                \"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/token\",\n            token_endpoint_auth_methods_supported: [\n                \"client_secret_post\",\n                \"private_key_jwt\",\n                \"client_secret_basic\",\n            ],\n            jwks_uri:\n                \"https://login.chinacloudapi.cn/organizations/discovery/v2.0/keys\",\n            response_modes_supported: [\"query\", \"fragment\", \"form_post\"],\n            subject_types_supported: [\"pairwise\"],\n            id_token_signing_alg_values_supported: [\"RS256\"],\n            response_types_supported: [\n                \"code\",\n                \"id_token\",\n                \"code id_token\",\n                \"id_token token\",\n            ],\n            scopes_supported: [\"openid\", \"profile\", \"email\", \"offline_access\"],\n            issuer: \"https://login.partner.microsoftonline.cn/{tenantid}/v2.0\",\n            request_uri_parameter_supported: false,\n            userinfo_endpoint:\n                \"https://microsoftgraph.chinacloudapi.cn/oidc/userinfo\",\n            authorization_endpoint:\n                \"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/authorize\",\n            device_authorization_endpoint:\n                \"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/devicecode\",\n            http_logout_supported: true,\n            frontchannel_logout_supported: true,\n            end_session_endpoint:\n                \"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/logout\",\n            claims_supported: [\n                \"sub\",\n                \"iss\",\n                \"cloud_instance_name\",\n                \"cloud_instance_host_name\",\n                \"cloud_graph_host_name\",\n                \"msgraph_host\",\n                \"aud\",\n                \"exp\",\n                \"iat\",\n                \"auth_time\",\n                \"acr\",\n                \"nonce\",\n                \"preferred_username\",\n                \"name\",\n                \"tid\",\n                \"ver\",\n                \"at_hash\",\n                \"c_hash\",\n                \"email\",\n            ],\n            kerberos_endpoint:\n                \"https://login.chinacloudapi.cn/organizations/kerberos\",\n            tenant_region_scope: null,\n            cloud_instance_name: \"partner.microsoftonline.cn\",\n            cloud_graph_host_name: \"graph.chinacloudapi.cn\",\n            msgraph_host: \"microsoftgraph.chinacloudapi.cn\",\n            rbac_url: \"https://pas.chinacloudapi.cn\",\n        },\n        \"https://login.microsoftonline.us/organizations/\": {\n            token_endpoint:\n                \"https://login.microsoftonline.us/organizations/oauth2/v2.0/token\",\n            token_endpoint_auth_methods_supported: [\n                \"client_secret_post\",\n                \"private_key_jwt\",\n                \"client_secret_basic\",\n            ],\n            jwks_uri:\n                \"https://login.microsoftonline.us/organizations/discovery/v2.0/keys\",\n            response_modes_supported: [\"query\", \"fragment\", \"form_post\"],\n            subject_types_supported: [\"pairwise\"],\n            id_token_signing_alg_values_supported: [\"RS256\"],\n            response_types_supported: [\n                \"code\",\n                \"id_token\",\n                \"code id_token\",\n                \"id_token token\",\n            ],\n            scopes_supported: [\"openid\", \"profile\", \"email\", \"offline_access\"],\n            issuer: \"https://login.microsoftonline.us/{tenantid}/v2.0\",\n            request_uri_parameter_supported: false,\n            userinfo_endpoint: \"https://graph.microsoft.com/oidc/userinfo\",\n            authorization_endpoint:\n                \"https://login.microsoftonline.us/organizations/oauth2/v2.0/authorize\",\n            device_authorization_endpoint:\n                \"https://login.microsoftonline.us/organizations/oauth2/v2.0/devicecode\",\n            http_logout_supported: true,\n            frontchannel_logout_supported: true,\n            end_session_endpoint:\n                \"https://login.microsoftonline.us/organizations/oauth2/v2.0/logout\",\n            claims_supported: [\n                \"sub\",\n                \"iss\",\n                \"cloud_instance_name\",\n                \"cloud_instance_host_name\",\n                \"cloud_graph_host_name\",\n                \"msgraph_host\",\n                \"aud\",\n                \"exp\",\n                \"iat\",\n                \"auth_time\",\n                \"acr\",\n                \"nonce\",\n                \"preferred_username\",\n                \"name\",\n                \"tid\",\n                \"ver\",\n                \"at_hash\",\n                \"c_hash\",\n                \"email\",\n            ],\n            kerberos_endpoint:\n                \"https://login.microsoftonline.us/organizations/kerberos\",\n            tenant_region_scope: null,\n            cloud_instance_name: \"microsoftonline.us\",\n            cloud_graph_host_name: \"graph.windows.net\",\n            msgraph_host: \"graph.microsoft.com\",\n            rbac_url: \"https://pasff.usgovcloudapi.net\",\n        },\n    },\n    instanceDiscoveryMetadata: {\n        tenant_discovery_endpoint:\n            \"https://{canonicalAuthority}/v2.0/.well-known/openid-configuration\",\n        \"api-version\": \"1.1\",\n        metadata: [\n            {\n                preferred_network: \"login.microsoftonline.com\",\n                preferred_cache: \"login.windows.net\",\n                aliases: [\n                    \"login.microsoftonline.com\",\n                    \"login.windows.net\",\n                    \"login.microsoft.com\",\n                    \"sts.windows.net\",\n                ],\n            },\n            {\n                preferred_network: \"login.partner.microsoftonline.cn\",\n                preferred_cache: \"login.partner.microsoftonline.cn\",\n                aliases: [\n                    \"login.partner.microsoftonline.cn\",\n                    \"login.chinacloudapi.cn\",\n                ],\n            },\n            {\n                preferred_network: \"login.microsoftonline.de\",\n                preferred_cache: \"login.microsoftonline.de\",\n                aliases: [\"login.microsoftonline.de\"],\n            },\n            {\n                preferred_network: \"login.microsoftonline.us\",\n                preferred_cache: \"login.microsoftonline.us\",\n                aliases: [\n                    \"login.microsoftonline.us\",\n                    \"login.usgovcloudapi.net\",\n                ],\n            },\n            {\n                preferred_network: \"login-us.microsoftonline.com\",\n                preferred_cache: \"login-us.microsoftonline.com\",\n                aliases: [\"login-us.microsoftonline.com\"],\n            },\n        ],\n    },\n};\n\nexport const EndpointMetadata = rawMetdataJSON.endpointMetadata;\nexport const InstanceDiscoveryMetadata =\n    rawMetdataJSON.instanceDiscoveryMetadata;\n\nexport const InstanceDiscoveryMetadataAliases: Set<String> = new Set();\nInstanceDiscoveryMetadata.metadata.forEach(\n    (metadataEntry: CloudDiscoveryMetadata) => {\n        metadataEntry.aliases.forEach((alias: string) => {\n            InstanceDiscoveryMetadataAliases.add(alias);\n        });\n    }\n);\n\n/**\n * Attempts to get an aliases array from the static authority metadata sources based on the canonical authority host\n * @param staticAuthorityOptions\n * @param logger\n * @returns\n */\nexport function getAliasesFromStaticSources(\n    staticAuthorityOptions: StaticAuthorityOptions,\n    logger?: Logger\n): string[] {\n    let staticAliases: string[] | undefined;\n    const canonicalAuthority = staticAuthorityOptions.canonicalAuthority;\n    if (canonicalAuthority) {\n        const authorityHost = new UrlString(\n            canonicalAuthority\n        ).getUrlComponents().HostNameAndPort;\n        staticAliases =\n            getAliasesFromMetadata(\n                authorityHost,\n                staticAuthorityOptions.cloudDiscoveryMetadata?.metadata,\n                AuthorityMetadataSource.CONFIG,\n                logger\n            ) ||\n            getAliasesFromMetadata(\n                authorityHost,\n                InstanceDiscoveryMetadata.metadata,\n                AuthorityMetadataSource.HARDCODED_VALUES,\n                logger\n            ) ||\n            staticAuthorityOptions.knownAuthorities;\n    }\n\n    return staticAliases || [];\n}\n\n/**\n * Returns aliases for from the raw cloud discovery metadata passed in\n * @param authorityHost\n * @param rawCloudDiscoveryMetadata\n * @returns\n */\nexport function getAliasesFromMetadata(\n    authorityHost?: string,\n    cloudDiscoveryMetadata?: CloudDiscoveryMetadata[],\n    source?: AuthorityMetadataSource,\n    logger?: Logger\n): string[] | null {\n    logger?.trace(`getAliasesFromMetadata called with source: ${source}`);\n    if (authorityHost && cloudDiscoveryMetadata) {\n        const metadata = getCloudDiscoveryMetadataFromNetworkResponse(\n            cloudDiscoveryMetadata,\n            authorityHost\n        );\n\n        if (metadata) {\n            logger?.trace(\n                `getAliasesFromMetadata: found cloud discovery metadata in ${source}, returning aliases`\n            );\n            return metadata.aliases;\n        } else {\n            logger?.trace(\n                `getAliasesFromMetadata: did not find cloud discovery metadata in ${source}`\n            );\n        }\n    }\n\n    return null;\n}\n\n/**\n * Get cloud discovery metadata for common authorities\n */\nexport function getCloudDiscoveryMetadataFromHardcodedValues(\n    authorityHost: string\n): CloudDiscoveryMetadata | null {\n    const metadata = getCloudDiscoveryMetadataFromNetworkResponse(\n        InstanceDiscoveryMetadata.metadata,\n        authorityHost\n    );\n    return metadata;\n}\n\n/**\n * Searches instance discovery network response for the entry that contains the host in the aliases list\n * @param response\n * @param authority\n */\nexport function getCloudDiscoveryMetadataFromNetworkResponse(\n    response: CloudDiscoveryMetadata[],\n    authorityHost: string\n): CloudDiscoveryMetadata | null {\n    for (let i = 0; i < response.length; i++) {\n        const metadata = response[i];\n        if (metadata.aliases.includes(authorityHost)) {\n            return metadata;\n        }\n    }\n\n    return null;\n}\n"],"mappings":";;;;;;AAKA;AAEA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MA8kBEA,gBAAA;MAEFC,MAAA,sFAA6B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;gCAAmC,OAChE,qBAAsC,E,uGACO,OAE7C,OAA6C,EAS7C,sB,iCAKG,UACH,QA6BA;;;;;MAKGC,YAAA;MACaC,QAAA;IA4BhB;;EAEGC,yBAAA;IACaC,yBAAA,sEAEb;IAQH;;;MAIGC,eAAA;MACHC,OAAA,EAA4D,C"},"metadata":{},"sourceType":"module","externalDependencies":[]}