{"ast":null,"code":"/*! @azure/msal-common v14.7.0 2024-02-07 */\n'use strict';\n\nimport { Constants } from '../utils/Constants.mjs';\nimport { AuthError } from './AuthError.mjs';\nimport { noTokensFound, nativeAccountUnavailable, badToken, refreshTokenExpired, interactionRequired, consentRequired, loginRequired } from './InteractionRequiredAuthErrorCodes.mjs';\nimport * as InteractionRequiredAuthErrorCodes from './InteractionRequiredAuthErrorCodes.mjs';\nexport { InteractionRequiredAuthErrorCodes };\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n/**\n * InteractionRequiredServerErrorMessage contains string constants used by error codes and messages returned by the server indicating interaction is required\n */\nconst InteractionRequiredServerErrorMessage = [interactionRequired, consentRequired, loginRequired, badToken];\nconst InteractionRequiredAuthSubErrorMessage = [\"message_only\", \"additional_action\", \"basic_action\", \"user_password_expired\", \"consent_required\", \"bad_token\"];\nconst InteractionRequiredAuthErrorMessages = {\n  [noTokensFound]: \"No refresh token found in the cache. Please sign-in.\",\n  [nativeAccountUnavailable]: \"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.\",\n  [refreshTokenExpired]: \"Refresh token has expired.\",\n  [badToken]: \"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve.\"\n};\n/**\n * Interaction required errors defined by the SDK\n * @deprecated Use InteractionRequiredAuthErrorCodes instead\n */\nconst InteractionRequiredAuthErrorMessage = {\n  noTokensFoundError: {\n    code: noTokensFound,\n    desc: InteractionRequiredAuthErrorMessages[noTokensFound]\n  },\n  native_account_unavailable: {\n    code: nativeAccountUnavailable,\n    desc: InteractionRequiredAuthErrorMessages[nativeAccountUnavailable]\n  },\n  bad_token: {\n    code: badToken,\n    desc: InteractionRequiredAuthErrorMessages[badToken]\n  }\n};\n/**\n * Error thrown when user interaction is required.\n */\nclass InteractionRequiredAuthError extends AuthError {\n  constructor(errorCode, errorMessage, subError, timestamp, traceId, correlationId, claims) {\n    super(errorCode, errorMessage, subError);\n    Object.setPrototypeOf(this, InteractionRequiredAuthError.prototype);\n    this.timestamp = timestamp || Constants.EMPTY_STRING;\n    this.traceId = traceId || Constants.EMPTY_STRING;\n    this.correlationId = correlationId || Constants.EMPTY_STRING;\n    this.claims = claims || Constants.EMPTY_STRING;\n    this.name = \"InteractionRequiredAuthError\";\n  }\n}\n/**\n * Helper function used to determine if an error thrown by the server requires interaction to resolve\n * @param errorCode\n * @param errorString\n * @param subError\n */\nfunction isInteractionRequiredError(errorCode, errorString, subError) {\n  const isInteractionRequiredErrorCode = !!errorCode && InteractionRequiredServerErrorMessage.indexOf(errorCode) > -1;\n  const isInteractionRequiredSubError = !!subError && InteractionRequiredAuthSubErrorMessage.indexOf(subError) > -1;\n  const isInteractionRequiredErrorDesc = !!errorString && InteractionRequiredServerErrorMessage.some(irErrorCode => {\n    return errorString.indexOf(irErrorCode) > -1;\n  });\n  return isInteractionRequiredErrorCode || isInteractionRequiredErrorDesc || isInteractionRequiredSubError;\n}\n/**\n * Creates an InteractionRequiredAuthError\n */\nfunction createInteractionRequiredAuthError(errorCode) {\n  return new InteractionRequiredAuthError(errorCode, InteractionRequiredAuthErrorMessages[errorCode]);\n}\nexport { InteractionRequiredAuthError, InteractionRequiredAuthErrorMessage, InteractionRequiredAuthSubErrorMessage, InteractionRequiredServerErrorMessage, createInteractionRequiredAuthError, isInteractionRequiredError };","map":{"version":3,"names":["InteractionRequiredServerErrorMessage","interactionRequired","consentRequired","loginRequired","badToken","InteractionRequiredAuthSubErrorMessage","InteractionRequiredAuthErrorMessages","noTokensFound","nativeAccountUnavailable","refreshTokenExpired","InteractionRequiredAuthErrorMessage","noTokensFoundError","code","desc","native_account_unavailable","bad_token","InteractionRequiredAuthError","AuthError","constructor","errorCode","errorMessage","subError","timestamp","traceId","correlationId","claims","Object","setPrototypeOf","prototype","Constants","EMPTY_STRING","name","isInteractionRequiredError","errorString","isInteractionRequiredErrorCode","indexOf","isInteractionRequiredSubError","isInteractionRequiredErrorDesc","some","irErrorCode","createInteractionRequiredAuthError"],"sources":["D:\\react-typescript\\intelli-gui\\node_modules\\@azure\\msal-common\\src\\error\\InteractionRequiredAuthError.ts"],"sourcesContent":["/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n\nimport { Constants } from \"../utils/Constants\";\nimport { AuthError } from \"./AuthError\";\nimport * as InteractionRequiredAuthErrorCodes from \"./InteractionRequiredAuthErrorCodes\";\nexport { InteractionRequiredAuthErrorCodes };\n\n/**\n * InteractionRequiredServerErrorMessage contains string constants used by error codes and messages returned by the server indicating interaction is required\n */\nexport const InteractionRequiredServerErrorMessage = [\n    InteractionRequiredAuthErrorCodes.interactionRequired,\n    InteractionRequiredAuthErrorCodes.consentRequired,\n    InteractionRequiredAuthErrorCodes.loginRequired,\n    InteractionRequiredAuthErrorCodes.badToken,\n];\n\nexport const InteractionRequiredAuthSubErrorMessage = [\n    \"message_only\",\n    \"additional_action\",\n    \"basic_action\",\n    \"user_password_expired\",\n    \"consent_required\",\n    \"bad_token\",\n];\n\nconst InteractionRequiredAuthErrorMessages = {\n    [InteractionRequiredAuthErrorCodes.noTokensFound]:\n        \"No refresh token found in the cache. Please sign-in.\",\n    [InteractionRequiredAuthErrorCodes.nativeAccountUnavailable]:\n        \"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.\",\n    [InteractionRequiredAuthErrorCodes.refreshTokenExpired]:\n        \"Refresh token has expired.\",\n    [InteractionRequiredAuthErrorCodes.badToken]:\n        \"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve.\",\n};\n\n/**\n * Interaction required errors defined by the SDK\n * @deprecated Use InteractionRequiredAuthErrorCodes instead\n */\nexport const InteractionRequiredAuthErrorMessage = {\n    noTokensFoundError: {\n        code: InteractionRequiredAuthErrorCodes.noTokensFound,\n        desc: InteractionRequiredAuthErrorMessages[\n            InteractionRequiredAuthErrorCodes.noTokensFound\n        ],\n    },\n    native_account_unavailable: {\n        code: InteractionRequiredAuthErrorCodes.nativeAccountUnavailable,\n        desc: InteractionRequiredAuthErrorMessages[\n            InteractionRequiredAuthErrorCodes.nativeAccountUnavailable\n        ],\n    },\n    bad_token: {\n        code: InteractionRequiredAuthErrorCodes.badToken,\n        desc: InteractionRequiredAuthErrorMessages[\n            InteractionRequiredAuthErrorCodes.badToken\n        ],\n    },\n};\n\n/**\n * Error thrown when user interaction is required.\n */\nexport class InteractionRequiredAuthError extends AuthError {\n    /**\n     * The time the error occured at\n     */\n    timestamp: string;\n\n    /**\n     * TraceId associated with the error\n     */\n    traceId: string;\n\n    /**\n     * https://github.com/AzureAD/microsoft-authentication-library-for-js/blob/dev/lib/msal-common/docs/claims-challenge.md\n     *\n     * A string with extra claims needed for the token request to succeed\n     * web site: redirect the user to the authorization page and set the extra claims\n     * web api: include the claims in the WWW-Authenticate header that are sent back to the client so that it knows to request a token with the extra claims\n     * desktop application or browser context: include the claims when acquiring the token interactively\n     * app to app context (client_credentials): include the claims in the AcquireTokenByClientCredential request\n     */\n    claims: string;\n\n    constructor(\n        errorCode?: string,\n        errorMessage?: string,\n        subError?: string,\n        timestamp?: string,\n        traceId?: string,\n        correlationId?: string,\n        claims?: string\n    ) {\n        super(errorCode, errorMessage, subError);\n        Object.setPrototypeOf(this, InteractionRequiredAuthError.prototype);\n\n        this.timestamp = timestamp || Constants.EMPTY_STRING;\n        this.traceId = traceId || Constants.EMPTY_STRING;\n        this.correlationId = correlationId || Constants.EMPTY_STRING;\n        this.claims = claims || Constants.EMPTY_STRING;\n        this.name = \"InteractionRequiredAuthError\";\n    }\n}\n\n/**\n * Helper function used to determine if an error thrown by the server requires interaction to resolve\n * @param errorCode\n * @param errorString\n * @param subError\n */\nexport function isInteractionRequiredError(\n    errorCode?: string,\n    errorString?: string,\n    subError?: string\n): boolean {\n    const isInteractionRequiredErrorCode =\n        !!errorCode &&\n        InteractionRequiredServerErrorMessage.indexOf(errorCode) > -1;\n    const isInteractionRequiredSubError =\n        !!subError &&\n        InteractionRequiredAuthSubErrorMessage.indexOf(subError) > -1;\n    const isInteractionRequiredErrorDesc =\n        !!errorString &&\n        InteractionRequiredServerErrorMessage.some((irErrorCode) => {\n            return errorString.indexOf(irErrorCode) > -1;\n        });\n\n    return (\n        isInteractionRequiredErrorCode ||\n        isInteractionRequiredErrorDesc ||\n        isInteractionRequiredSubError\n    );\n}\n\n/**\n * Creates an InteractionRequiredAuthError\n */\nexport function createInteractionRequiredAuthError(\n    errorCode: string\n): InteractionRequiredAuthError {\n    return new InteractionRequiredAuthError(\n        errorCode,\n        InteractionRequiredAuthErrorMessages[errorCode]\n    );\n}\n"],"mappings":";;;;;;;;;AAAA;;;AAGG;AAOH;;AAEG;AACU,MAAAA,qCAAqC,GAAG,CACjDC,mBAAqD,EACrDC,eAAiD,EACjDC,aAA+C,EAC/CC,QAA0C,C;AAGjC,MAAAC,sCAAsC,GAAG,CAClD,cAAc,EACd,mBAAmB,EACnB,cAAc,EACd,uBAAuB,EACvB,kBAAkB,EAClB,WAAW,C;AAGf,MAAMC,oCAAoC,GAAG;EACzC,CAACC,aAA+C,GAC5C,sDAAsD;EAC1D,CAACC,wBAA0D,GACvD,qJAAqJ;EACzJ,CAACC,mBAAqD,GAClD,4BAA4B;EAChC,CAACL,QAA0C,GACvC;CACP;AAED;;;AAGG;AACU,MAAAM,mCAAmC,GAAG;EAC/CC,kBAAkB,EAAE;IAChBC,IAAI,EAAEL,aAA+C;IACrDM,IAAI,EAAEP,oCAAoC,CACtCC,aAA+C;EAEtD;EACDO,0BAA0B,EAAE;IACxBF,IAAI,EAAEJ,wBAA0D;IAChEK,IAAI,EAAEP,oCAAoC,CACtCE,wBAA0D;EAEjE;EACDO,SAAS,EAAE;IACPH,IAAI,EAAER,QAA0C;IAChDS,IAAI,EAAEP,oCAAoC,CACtCF,QAA0C;EAEjD;;AAGL;;AAEG;AACG,MAAOY,4BAA6B,SAAQC,SAAS;EAsBvDC,YACIC,SAAkB,EAClBC,YAAqB,EACrBC,QAAiB,EACjBC,SAAkB,EAClBC,OAAgB,EAChBC,aAAsB,EACtBC,MAAe;IAEf,KAAK,CAACN,SAAS,EAAEC,YAAY,EAAEC,QAAQ,CAAC;IACxCK,MAAM,CAACC,cAAc,CAAC,IAAI,EAAEX,4BAA4B,CAACY,SAAS,CAAC;IAEnE,IAAI,CAACN,SAAS,GAAGA,SAAS,IAAIO,SAAS,CAACC,YAAY;IACpD,IAAI,CAACP,OAAO,GAAGA,OAAO,IAAIM,SAAS,CAACC,YAAY;IAChD,IAAI,CAACN,aAAa,GAAGA,aAAa,IAAIK,SAAS,CAACC,YAAY;IAC5D,IAAI,CAACL,MAAM,GAAGA,MAAM,IAAII,SAAS,CAACC,YAAY;IAC9C,IAAI,CAACC,IAAI,GAAG,8BAA8B;;AAEjD;AAED;;;;;AAKG;SACaC,0BAA0BA,CACtCb,SAAkB,EAClBc,WAAoB,EACpBZ,QAAiB;EAEjB,MAAMa,8BAA8B,GAChC,CAAC,CAACf,SAAS,IACXnB,qCAAqC,CAACmC,OAAO,CAAChB,SAAS,CAAC,GAAG,CAAC,CAAC;EACjE,MAAMiB,6BAA6B,GAC/B,CAAC,CAACf,QAAQ,IACVhB,sCAAsC,CAAC8B,OAAO,CAACd,QAAQ,CAAC,GAAG,CAAC,CAAC;EACjE,MAAMgB,8BAA8B,GAChC,CAAC,CAACJ,WAAW,IACbjC,qCAAqC,CAACsC,IAAI,CAAEC,WAAW,IAAI;IACvD,OAAON,WAAW,CAACE,OAAO,CAACI,WAAW,CAAC,GAAG,CAAC,CAAC;EAChD,CAAC,CAAC;EAEN,OACIL,8BAA8B,IAC9BG,8BAA8B,IAC9BD,6BAA6B;AAErC;AAEA;;AAEG;AACG,SAAUI,kCAAkCA,CAC9CrB,SAAiB;EAEjB,OAAO,IAAIH,4BAA4B,CACnCG,SAAS,EACTb,oCAAoC,CAACa,SAAS,CAAC,CAClD;AACL"},"metadata":{},"sourceType":"module","externalDependencies":[]}